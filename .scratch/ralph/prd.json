{
  "project": "BlogEditor",
  "branchName": "ralph/blog-editor",
  "description": "Visual markdown editor for 11ty blog with GitHub PR integration",
  "userStories": [
    {
      "id": "US-001",
      "title": "Initialize Node.js project with Express server",
      "description": "As a developer, I need a basic Express server setup to build the API.",
      "acceptanceCriteria": [
        "package.json exists at root with express, dotenv, and cors dependencies",
        "editor-server.js exists with basic Express app listening on port 3001",
        "Server responds to GET / with a health check message",
        "CORS is configured to allow requests from localhost:5173",
        "Typecheck passes"
      ],
      "priority": 1,
      "in-progress": false,
      "passes": true,
      "notes": "Implemented with Express server, CORS middleware configured for localhost:5173"
    },
    {
      "id": "US-002",
      "title": "Add password authentication endpoint",
      "description": "As a user, I need to authenticate with a password to access the editor.",
      "acceptanceCriteria": [
        "POST /auth endpoint accepts { password: string } in request body",
        "Endpoint compares SHA256 hash of password against BLOG_EDITOR_PASSWORD_HASH env var",
        "Returns { success: true } if match, { success: false, error: string } if not",
        ".env.example file documents required environment variables",
        "Typecheck passes"
      ],
      "priority": 2,
      "in-progress": false,
      "passes": true,
      "notes": "Implemented POST /auth with SHA256 password hashing"
    },
    {
      "id": "US-003",
      "title": "Add auth middleware for protected routes",
      "description": "As a developer, I need middleware to protect API routes.",
      "acceptanceCriteria": [
        "Auth middleware reads X-Auth-Password header from requests",
        "Middleware hashes the password and compares against BLOG_EDITOR_PASSWORD_HASH",
        "Returns 401 Unauthorized if password missing or invalid",
        "Middleware is applied to all routes except POST /auth and GET /",
        "Typecheck passes"
      ],
      "priority": 3,
      "in-progress": false,
      "passes": true,
      "notes": "Implemented middleware that checks X-Auth-Password header"
    },
    {
      "id": "US-004",
      "title": "Add GET /files endpoint to list markdown files",
      "description": "As a user, I need to see all blog posts available for editing.",
      "acceptanceCriteria": [
        "GET /files returns JSON array of file paths relative to blog/src/blog/",
        "Only .md files are included in the response",
        "Files are listed recursively if subdirectories exist",
        "Response format: { files: [{ path: string, name: string }] }",
        "Typecheck passes"
      ],
      "priority": 4,
      "in-progress": false,
      "passes": true,
      "notes": "Implemented with recursive directory traversal"
    },
    {
      "id": "US-005",
      "title": "Add GET /file/:path endpoint to read file content",
      "description": "As a user, I need to load the content of a blog post for editing.",
      "acceptanceCriteria": [
        "GET /file/:path returns the content of the specified markdown file",
        "Path parameter is URL-encoded and decoded properly",
        "Response format: { content: string, path: string }",
        "Returns 404 if file does not exist",
        "Path validation prevents directory traversal (no .. allowed)",
        "Typecheck passes"
      ],
      "priority": 5,
      "in-progress": false,
      "passes": true,
      "notes": "Implemented with path validation and directory traversal prevention"
    },
    {
       "id": "US-006",
       "title": "Add POST /file/:path endpoint to save file content",
       "description": "As a user, I need to save my edits to a blog post.",
       "acceptanceCriteria": [
         "POST /file/:path saves content from request body to the file",
         "Request body format: { content: string }",
         "Creates new file if it doesn't exist",
         "Returns { success: true, path: string }",
         "Path validation prevents directory traversal (no .. allowed)",
         "Typecheck passes"
       ],
       "priority": 6,
       "in-progress": false,
       "passes": true,
       "notes": "Implemented with directory creation support, path validation, and proper error handling"
     },
    {
      "id": "US-007",
      "title": "Initialize Vue 3 + TypeScript frontend project",
      "description": "As a developer, I need a Vue 3 frontend to build the editor UI.",
      "acceptanceCriteria": [
        "Vue 3 project created in /editor folder using Vite",
        "TypeScript configured with strict mode",
        "Vite dev server proxies /api/* requests to http://localhost:3001",
        "npm run dev starts the frontend on port 5173",
        "Basic App.vue renders a placeholder message",
        "Typecheck passes"
      ],
      "priority": 7,
      "in-progress": false,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Create login component and auth state",
      "description": "As a user, I need to enter my password to access the editor.",
      "acceptanceCriteria": [
        "LoginView.vue component with password input and submit button",
        "On submit, calls POST /api/auth with password",
        "On success, stores password in reactive state (composable or pinia)",
        "App.vue conditionally shows LoginView or main editor based on auth state",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 8,
      "in-progress": false,
      "passes": true,
      "notes": "Implemented LoginView.vue with password input, useAuth composable for state management, and conditional rendering in App.vue"
    },
    {
       "id": "US-009",
       "title": "Create main layout with header and sidebar",
       "description": "As a user, I need a clear layout to navigate the editor.",
       "acceptanceCriteria": [
         "EditorLayout.vue with header bar and left sidebar",
         "Header displays app title 'Blog Editor'",
         "Sidebar is 250px wide on desktop",
         "Main content area fills remaining space",
         "Basic responsive: sidebar collapsible on mobile (< 768px)",
         "Typecheck passes",
         "Verify in browser using dev-browser skill"
       ],
       "priority": 9,
       "in-progress": false,
       "passes": true,
       "notes": "Implemented EditorLayout.vue component with responsive header and 250px sidebar, mobile collapsible design, integrated into App.vue"
     },
    {
      "id": "US-010",
      "title": "Create FileTree component",
      "description": "As a user, I need to browse and select blog posts from a file tree.",
      "acceptanceCriteria": [
        "FileTree.vue component fetches GET /api/files on mount",
        "Displays files as a clickable list in sidebar",
        "Emits 'select' event with file path when clicked",
        "Shows loading state while fetching",
        "Includes X-Auth-Password header in API request",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 10,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-011",
      "title": "Create raw markdown editor mode",
      "description": "As a user, I need to edit blog posts in raw markdown.",
      "acceptanceCriteria": [
        "MarkdownEditor.vue component with textarea for editing",
        "Receives content as prop, emits 'update' on change",
        "Monospace font, full height of container",
        "Basic syntax highlighting optional (can use simple textarea)",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 11,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-012",
      "title": "Create markdown preview mode",
      "description": "As a user, I need to preview how my blog post will look.",
      "acceptanceCriteria": [
        "PreviewPane.vue component renders markdown as HTML",
        "Uses a markdown parser library (e.g., marked or markdown-it)",
        "Receives content as prop",
        "Styled to look like readable prose",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 12,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-013",
      "title": "Add editor mode tabs and file loading",
      "description": "As a user, I need to switch between edit and preview modes.",
      "acceptanceCriteria": [
        "EditorPane.vue with tabs: 'Edit' and 'Preview'",
        "Clicking tab switches between MarkdownEditor and PreviewPane",
        "When file selected in FileTree, loads content via GET /api/file/:path",
        "Content state shared between tabs",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 13,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-014",
      "title": "Add save button functionality",
      "description": "As a user, I need to save my edits to the server.",
      "acceptanceCriteria": [
        "Save button in editor header or toolbar",
        "Clicking save calls POST /api/file/:path with current content",
        "Shows success/error feedback (toast or inline message)",
        "Button disabled when no file is selected",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 14,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-015",
      "title": "Add WYSIWYG editor mode",
      "description": "As a user, I want a visual editor for easier content creation.",
      "acceptanceCriteria": [
        "Integrate lightweight WYSIWYG editor (Milkdown, TipTap, or similar)",
        "WysiwygEditor.vue component with basic formatting toolbar",
        "Supports: bold, italic, headers, links, lists, code blocks",
        "Syncs content with markdown string (bidirectional)",
        "Add 'Visual' tab alongside Edit and Preview",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 15,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-016",
      "title": "Add GET /branches endpoint",
      "description": "As a user, I need to see available git branches.",
      "acceptanceCriteria": [
        "GET /branches returns list of all git branches",
        "Uses child_process.exec to run 'git branch -a' in blog submodule",
        "Response format: { branches: string[], current: string }",
        "Current branch is marked in response",
        "Typecheck passes"
      ],
      "priority": 16,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-017",
      "title": "Add POST /checkout endpoint",
      "description": "As a user, I need to switch between git branches.",
      "acceptanceCriteria": [
        "POST /checkout accepts { branch: string } in body",
        "Runs 'git checkout <branch>' in blog submodule",
        "Returns { success: true, branch: string } on success",
        "Returns error message if checkout fails",
        "Typecheck passes"
      ],
      "priority": 17,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-018",
      "title": "Add POST /branch/create endpoint",
      "description": "As a user, I need to create new branches for my changes.",
      "acceptanceCriteria": [
        "POST /branch/create accepts { name: string } in body",
        "Runs 'git checkout -b <name>' in blog submodule",
        "Returns { success: true, branch: string } on success",
        "Validates branch name (no spaces, valid git branch name)",
        "Typecheck passes"
      ],
      "priority": 18,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-019",
      "title": "Create branch selector dropdown in header",
      "description": "As a user, I need to see and switch branches from the UI.",
      "acceptanceCriteria": [
        "BranchSelector.vue dropdown component in header",
        "Shows current branch name",
        "Dropdown lists all branches from GET /api/branches",
        "Selecting a branch calls POST /api/checkout",
        "Refreshes file tree after branch switch",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 19,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-020",
      "title": "Create new branch modal",
      "description": "As a user, I need to create a new branch from the UI.",
      "acceptanceCriteria": [
        "NewBranchModal.vue with input for branch name",
        "Accessible from branch selector dropdown ('+ New Branch' option)",
        "Calls POST /api/branch/create on submit",
        "Closes modal and updates branch selector on success",
        "Shows validation errors for invalid branch names",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 20,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-021",
      "title": "Add POST /commit endpoint",
      "description": "As a developer, I need an endpoint to commit changes.",
      "acceptanceCriteria": [
        "POST /commit accepts { message: string } in body",
        "Runs 'git add .' then 'git commit -m <message>' in blog submodule",
        "Returns { success: true, sha: string } with commit SHA",
        "Returns error if nothing to commit",
        "Typecheck passes"
      ],
      "priority": 21,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-022",
      "title": "Add POST /push endpoint",
      "description": "As a developer, I need an endpoint to push commits to remote.",
      "acceptanceCriteria": [
        "POST /push pushes current branch to origin",
        "Runs 'git push -u origin <branch>' in blog submodule",
        "Returns { success: true, branch: string }",
        "Handles case where branch doesn't exist on remote yet",
        "Typecheck passes"
      ],
      "priority": 22,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-023",
      "title": "Add POST /pr endpoint for GitHub PR creation",
      "description": "As a user, I need to create pull requests from the editor.",
      "acceptanceCriteria": [
        "POST /pr accepts { title: string, body: string } in body",
        "Uses GitHub API (fetch or octokit) to create PR",
        "Uses GITHUB_TOKEN, GITHUB_REPO_OWNER, GITHUB_REPO_NAME from env",
        "Returns { success: true, url: string } with PR URL",
        "If PR already exists for branch, returns existing PR URL",
        "Typecheck passes"
      ],
      "priority": 23,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-024",
      "title": "Create Propose Changes button and workflow",
      "description": "As a user, I need a single button to commit, push, and create a PR.",
      "acceptanceCriteria": [
        "ProposeChanges.vue button in header",
        "Clicking opens modal with commit message and PR title/body inputs",
        "On submit: calls POST /api/commit, then POST /api/push, then POST /api/pr",
        "Shows progress/status for each step",
        "Displays PR URL on success with link to GitHub",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 24,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-025",
      "title": "Add create new file functionality",
      "description": "As a user, I need to create new blog posts.",
      "acceptanceCriteria": [
        "NewFileButton.vue in file tree header",
        "Opens modal to enter new file name (with .md extension)",
        "Creates file with default frontmatter template",
        "New file appears in file tree and opens in editor",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 25,
      "in-progress": false,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-026",
      "title": "Add error handling and loading states",
      "description": "As a user, I need clear feedback when operations fail or are loading.",
      "acceptanceCriteria": [
        "Global error toast/notification component",
        "API errors display user-friendly messages",
        "Loading spinners for async operations",
        "Disabled states for buttons during operations",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 26,
      "in-progress": false,
      "passes": false,
      "notes": ""
    }
  ]
}
